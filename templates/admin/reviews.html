{% extends "base.html" %}
{% block title %}ç®¡ç†åå° Â· è¯„ä»·ç®¡ç†{% endblock %}
{% block extra_head %}
<style>
    .admin-nav { background:var(--dark-blue); padding:12px 16px; display:flex; align-items:center; gap:16px; overflow-x:auto; }
    .admin-nav a { color:rgba(255,255,255,0.7); font-size:14px; text-decoration:none; white-space:nowrap; padding:6px 14px; border-radius:8px; transition:all 0.2s; }
    .admin-nav a:hover, .admin-nav a.active { background:rgba(255,255,255,0.12); color:#fff; }
    .admin-nav .brand { font-weight:700; color:#fff; font-size:16px; margin-right:auto; }
    .review-card {
        background:#fff; border-radius:14px; padding:16px; margin-bottom:10px;
        box-shadow:0 2px 12px rgba(0,0,0,0.04);
    }
    .review-card.bad { border-left:4px solid var(--alert); }
    .stars { color:#F5A623; letter-spacing:2px; }
</style>
{% endblock %}

{% block body %}
<nav class="admin-nav">
    <span class="brand">ğŸ® å›½åº†é¤é¦†</span>
    <a href="/admin/">ä»ªè¡¨ç›˜</a>
    <a href="/admin/orders">è®¢å•</a>
    <a href="/admin/dishes">èœå“</a>
    <a href="/admin/tables">æ¡Œå°</a>
    <a href="/admin/reviews" class="active">è¯„ä»·</a>
    <a href="/admin/logout" style="color:rgba(255,255,255,0.4);">é€€å‡º</a>
</nav>
<div style="max-width:700px;margin:0 auto;padding:20px 16px;">
    <h2 style="font-size:18px;font-weight:700;margin-bottom:16px;">é¡¾å®¢è¯„ä»·</h2>
    {% if reviews %}
        {% for r in reviews %}
        <div class="review-card {% if r.rating <= 2 %}bad{% endif %} fade-in">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px;">
                <span class="stars">{{ 'â˜…' * r.rating }}{{ 'â˜†' * (5 - r.rating) }}</span>
                <span style="font-size:12px;color:var(--text-grey);">{{ r.created_at.strftime('%m-%d %H:%M') }}</span>
                {% if r.order_id %}
                <span style="font-size:11px;color:var(--text-grey);margin-left:auto;">è®¢å•#{{ r.order_id }}</span>
                {% endif %}
            </div>
            {% if r.comment %}
            <div style="font-size:14px;line-height:1.6;color:#444;">{{ r.comment }}</div>
            {% else %}
            <div style="font-size:13px;color:#ccc;">æš‚æ— æ–‡å­—è¯„ä»·</div>
            {% endif %}
        </div>
        {% endfor %}
    {% else %}
        <div style="text-align:center;color:#ccc;padding:60px 0;">æš‚æ— è¯„ä»·</div>
    {% endif %}
</div>
{% endblock %}
