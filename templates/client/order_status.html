{% extends "base.html" %}
{% block title %}è®¢å•çŠ¶æ€ #{{ order.id }}{% endblock %}
{% block body %}
<div style="max-width:420px;margin:0 auto;padding:24px 16px;">
    <div style="text-align:center;margin-bottom:24px;">
        <div style="font-size:48px;margin-bottom:8px;">
            {% if order.status == 'Pending' %}â³{% elif order.status == 'Cooking' %}ğŸ”¥{% elif order.status == 'Served' %}âœ…{% elif order.status == 'Paid' %}ğŸ’°{% else %}âŒ{% endif %}
        </div>
        <h2 style="font-size:20px;font-weight:700;">è®¢å• #{{ order.id }}</h2>
        <p style="color:var(--text-grey);font-size:14px;margin-top:4px;">
            {{ order.table.name if order.table else 'æœªçŸ¥æ¡Œå·' }} Â· {{ order.created_at.strftime('%H:%M') }}
        </p>
    </div>
    <div style="background:#fff;border-radius:14px;padding:16px;box-shadow:0 2px 12px rgba(0,0,0,0.05);">
        <div style="font-size:14px;font-weight:600;margin-bottom:12px;color:var(--dark-blue);">èœå“æ˜ç»†</div>
        {% for item in order.items %}
        <div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f5f5f5;font-size:14px;">
            <span>{{ item.dish.name if item.dish else 'å·²åˆ é™¤' }} Ã— {{ item.quantity }}</span>
            <span class="text-gold font-price" style="font-weight:600;">Â¥{{ "%.1f"|format(item.price_snapshot * item.quantity) }}</span>
        </div>
        {% endfor %}
        <div style="display:flex;justify-content:space-between;padding:12px 0 0;font-size:16px;font-weight:700;">
            <span>åˆè®¡</span>
            <span class="text-gold font-price">Â¥{{ "%.2f"|format(order.total_amount) }}</span>
        </div>
    </div>
    {% if order.customer_note %}
    <div style="background:#fffbe6;border-radius:10px;padding:12px;margin-top:12px;font-size:13px;color:#8a6d0b;">
        ğŸ“ å¤‡æ³¨ï¼š{{ order.customer_note }}
    </div>
    {% endif %}
    <div style="text-align:center;margin-top:24px;">
        <span style="display:inline-block;padding:6px 18px;border-radius:20px;font-size:13px;font-weight:600;
            {% if order.status == 'Pending' %}background:#fff3cd;color:#856404;
            {% elif order.status == 'Cooking' %}background:#fde2e2;color:#c0392b;
            {% elif order.status == 'Served' %}background:#d4edda;color:#155724;
            {% elif order.status == 'Paid' %}background:#d1ecf1;color:#0c5460;
            {% else %}background:#f0f0f0;color:#999;{% endif %}
        ">
            {% if order.status == 'Pending' %}ç­‰å¾…æ¥å•{% elif order.status == 'Cooking' %}æ­£åœ¨åˆ¶ä½œ{% elif order.status == 'Served' %}å·²ä¸Šèœ{% elif order.status == 'Paid' %}å·²æ”¯ä»˜{% else %}å·²å–æ¶ˆ{% endif %}
        </span>
    </div>
    <a href="/" style="display:block;text-align:center;margin-top:20px;color:var(--gold);font-size:14px;text-decoration:none;">â† è¿”å›èœå•</a>
</div>
{% endblock %}
